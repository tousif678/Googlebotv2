const axios = require("axios");
const APIKEY = "V-GoatMart-Beta-xv4-Ibs8j-90-az7-V";
const serverURL = "https://goatmart-v2.vercel.app";

module.exports = {
  config: {
    name: "goatmart",
    aliases: ["gm"],
    role: 0,
    shortDescription: {
      en: "View Items Available In The GoatMart."
    },
    category: "store",
    author: "RÃ´meo | Aryan | Â©GoatMart",
  },
  onStart: async ({ api, event, args, message }) => {
    try {
      if (!args[0]) {
        api.sendMessage(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâžœ ${event.body} ð—‰ð–ºð—€ð–¾ <ð—½ð—®ð—´ð—² ð—»ð˜‚ð—ºð—¯ð—²ð—¿>\nâžœ ${event.body} ð—Œð—ð—ˆð— <ð—œð˜ð—²ð—º ð—œð——>\nâžœ ${event.body} ð—Žð—‰ð—…ð—ˆð–ºð–½ < ð—ð˜€ð—¼ð—» ð—™ð—¼ð—¿ð—ºð—®ð˜>\nâžœ ${event.body} ð–¾ð–½ð—‚ð— <ð—œð˜ð—²ð—º ð—œð——>\nâžœ ${event.body} ð—Œð–¾ð–ºð—‹ð–¼ð— <ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²>\nâžœ ${event.body} ð–½ð–¾ð—…ð–¾ð—ð–¾ <ð—œð˜ð—²ð—º ð—œð——>\n\nðŸ“’ ð—¡ð—¼ð˜ð—²: ð–¨ð–¿ ð—’ð—ˆð—Ž ð–½ð—ˆð—‡'ð— ð—„ð—‡ð—ˆð— ð—ð—ˆð— ð—ð—ˆ ð—Žð—Œð–¾ ð—Žð—‰ð—…ð—ˆð–ºð–½, ð–¾ð–½ð—‚ð— ð–¿ð–¾ð–ºð—ð—Žð—‹ð–¾ð—Œ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡ ð–ºð—Œð—„ ð–ºð–»ð—ˆð—Žð— ð—ð—ð—‚ð—Œ ð—ð—ˆð—‰ð—‚ð–¼ ð–¿ð—‹ð—ˆð—† ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–£ð–¾ð—ð–¾ð—…ð—ˆð—‰ð–¾ð—‹ð—Œ.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`, event.threadID, event.messageID);
      } else if (args[0] === "page") {
        const pageNumber = parseInt(args[1]);
        const response = await axios.get(`${serverURL}/api/items?apikey=${APIKEY}`);
        const items = response.data;

        if (response.status === 200) {
          const totalPages = Math.ceil(items.length / 6);
          const offset = (pageNumber - 1) * 6;

          if (pageNumber <= 0 || pageNumber > totalPages || isNaN(pageNumber)) {
            api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nð–³ð—ð–¾ ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ ð˜†ð—ˆð˜‚ ð–ºð—‹ð–¾ ð—ð—‹ð—’ð—‚ð—‡ð—€ ð˜ð—ˆ ð–ºð–¼ð–¼ð–¾ð—Œð—Œ ð—‚ð—Œ ð–¼ð—Žð—‹ð—‹ð–¾ð—‡ð—ð—…ð—’ ð—‡ð—ˆð— ð–ºð—ð–ºð—‚ð—…ð–ºð–»ð—…ð–¾ ð—‚ð—‡ ð—ˆð—Žð—‹ ð—ªð–¾ð–»ð—Œð—‚ð—ð–¾. ð–¸ð—ˆð—Ž ð–¼ð–ºð—‡ ð–ºð—…ð—Œð—ˆ ð–ºð—Œð—„ ð–¿ð—‹ð—ˆð—† ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–£ð–¾ð—ð–¾ð—…ð—ˆð—‰ð–¾ð—‹ð—Œ ð—ð—ˆ ð—†ð–ºð—„ð–¾ ð—’ð—ˆð—Žð—‹ ð—‹ð–¾ð—Šð—Žð–¾ð—Œð— ð–ºð—Œ ð—‰ð—ˆð—Œð—Œð—‚ð–»ð—…ð–¾. ð–³ð—ð–ºð—‡ð—„ ð–¸ð—ˆð—Ž.\n\n- ð–³ð–¾ð–ºð—† ð—šð—ˆð–ºð—ð— ð–ºð—‹ð—\nð–³ð—ð–ºð—‡ð—„ ð˜†ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð—†ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
          } else {
            const pageItems = items.slice(offset, offset + 6);

            const itemDescriptions = pageItems.map(
              (item) =>
                `ðŸ‘‘ ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²: ${item.itemName}\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${item.itemID}\nðŸ“ ð——ð—²ð˜€ð—°ð—¿ð—¶ð—½ð˜ð—¶ð—¼ð—»: ${item.description}\nðŸ’» ð—”ð˜‚ð˜ð—µð—¼ð—¿: ${item.authorName}\nðŸ“… ð—§ð—¶ð—ºð—²: ${item.timestamp}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”\n`
            );

            const itemInfo = itemDescriptions.join("\n");

            message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ð–§ð–¾ð—‹ð–¾ ð–ºð—‹ð–¾ ð—Œð—ˆð—†ð–¾ ð——ð—®ð˜ð—® ð–¼ð—Žð—‹ð—‹ð–¾ð—‡ð—ð—…ð—’ ð–ºð—ð–ºð—‚ð—…ð–ºð–»ð—…ð–¾ ð—‚ð—‡ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\n\n${itemInfo}ðŸ“ ð—¨ð˜€ð—®ð—´ð—²ð˜€:\n ${event.body.split(" ")[0]} [ show ] <item id> to view command data.\n\nðŸ‘‘ ð—£ð—®ð—´ð—²ð˜€: [ ${pageNumber} / ${totalPages} ]\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`);
          }
        } else if (response.status === 401) {
          api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nð–³ð—ð–¾ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—’ð—ˆð—Ž ð–ºð—‹ð–¾ ð—ð—‹ð—’ð—‚ð—‡ð—€ ð—ð—ˆ ð–ºð–¼ð–¼ð–¾ð—Œð—Œ ð—ˆð—Žð—‹ ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ð—‚ð—Œ ð—‡ð—ˆð— ð–ºð–¼ð—ð—‚ð—ð–ºð—ð–¾ð–½ ð—‚ð—‹ ð—‚ð—‡ð—ð–ºð—…ð—‚ð–½ ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð—‰ð—…ð–¾ð–ºð—Œð–¾ ð–¼ð—ð–¾ð–¼ð—„ ð—’ð—ˆð—Žð—‹ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—‚ð—Œ ð—ð—ˆð—‹ð—„ð—‚ð—‡ð—€, ð—‚ð–¿ ð—ð—ð—‚ð—Œ ð–ºð—‰ð—‚ð—„ð–¾ð—’ ð—‚ð—Œ ð—‡ð—ˆð— ð—ð–ºð—…ð—‚ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡ ð—ƒð—ˆð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–¢ð—ˆð—†ð—†ð—Žð—‡ð—‚ð—ð—’ ð–¿ð—ˆð—‹ ð—‡ð–¾ð— ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð–»ð–¾ð–¼ð–ºð—Žð—Œð–¾ ð—ð—‚ð—ð—ð—ˆð—Žð—‹ ð–ºð—Žð—ð—ð—ˆð—‹ð—‚ð—Œð–¾ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡'ð— ð–ºð–¼ð–¼ð–¾ð—Œ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–²ð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ. ð–³ð—ð–ºð—‡ð—„ ð–¸ð—ˆð—Ž\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
        }
      } else if (args[0] === "search") {
        const searchTerm = args.slice(1).join(" ").toLowerCase();

        const response = await axios.get(`${serverURL}/api/items?apikey=${APIKEY}`);

        const items = response.data;
        const matchingItems = items.filter(item => item.itemName.toLowerCase().includes(searchTerm) || item.description.toLowerCase().includes(searchTerm));

        if (matchingItems.length > 0) {
          const itemDescriptions = matchingItems.map(item => `\nðŸ‘‘ ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²: ${item.itemName}\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${item.itemID}\nðŸ“ ð——ð—²ð˜€ð—°ð—¿ð—¶ð—½ð˜ð—¶ð—¼ð—»: ${item.description}\nðŸ’» ð—”ð˜‚ð˜ð—µð—¼ð—¿: ${item.authorName}\nðŸ“… ð—§ð—¶ð—ºð—²: ${item.timestamp}\nâ”â”â”â”â”â”â”â”â”â”â”â”\n`);
          const itemInfo = itemDescriptions.join("\n");

          message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ð–§ð–¾ð—‹ð–¾ ð—‚ð—Œ ð—’ð—ˆð—Žð—‹ ð—Œð–¾ð–ºð—‹ð–¼ð—ð–¾ð–½ ð—‹ð–¾ð—Œð—Žð—…ð—ð—Œ ð–½ð–ºð—ð–º ð–¿ð—ˆð—‹ ð—’ð—ˆð—Žð—‹ ð—Šð—Žð–¾ð—‹ð—’: ${searchTerm} ð—‚ð—‡ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ .\n\n${itemInfo}`);
        } else {
          message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nð–³ð—ð–¾ ð—Œð–¾ð–ºð—‹ð–¼ð— ð—ð–¾ð—‹ð—† ð—’ð—ˆð—Ž ð—‰ð—‹ð—ˆð—ð—‚ð–½ð–¾ð–½ ð–½ð—ˆð–¾ð—Œ ð—‡ð—ˆð— ð—†ð–ºð—ð–¼ð— ð–ºð—‡ð—’ ð–ºð—ð–ºð—‚ð—…ð–ºð–»ð—…ð–¾ ð—‚ð—ð–¾ð—†ð—Œ ð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð—ð–¾ð–»ð—Œð—‚ð—ð–¾.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`);
        }
      } else if (args[0] === "show") {
        const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);
        const response = await axios.get(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`);
        const item = response.data;

        if (item && itemID) {
          message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nðŸ‘‘ ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²: ${item.itemName}\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${item.itemID}\nðŸ“ ð——ð—²ð˜€ð—°ð—¿ð—¶ð—½ð˜ð—¶ð—¼ð—»: ${item.description}\nðŸ“ ð—œð˜ð—²ð—º ð—Ÿð—¶ð—»ð—¸: ${item.pastebinLink}\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`);
        } else if (response.status === 404) {
          api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\nð–³ð—ð–¾ ð—Œð–¾ð–ºð—‹ð–¼ð— ð—ð–¾ð—‹ð—† ð—’ð—ˆð—Ž ð—‰ð—‹ð—ˆð—ð—‚ð–½ð–¾ð–½ ð–½ð—ˆð–¾ð—Œ ð—‡ð—ˆð— ð—†ð–ºð—ð–¼ð— ð–ºð—‡ð—’ ð–ºð—ð–ºð—‚ð—…ð–ºð–»ð—…ð–¾ ð—‚ð—ð–¾ð—†ð—Œ ð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð—ð–¾ð–»ð—Œð—‚ð—ð–¾.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
        } else if (response.status === 401) {
          api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nð–³ð—ð–¾ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—’ð—ˆð—Ž ð–ºð—‹ð–¾ ð—ð—‹ð—’ð—‚ð—‡ð—€ ð—ð—ˆ ð–ºð–¼ð–¼ð–¾ð—Œð—Œ ð—ˆð—Žð—‹ ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ð—‚ð—Œ ð—‡ð—ˆð— ð–ºð–¼ð—ð—‚ð—ð–ºð—ð–¾ð–½ ð—‚ð—‹ ð—‚ð—‡ð—ð–ºð—…ð—‚ð–½ ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð—‰ð—…ð–¾ð–ºð—Œð–¾ ð–¼ð—ð–¾ð–¼ð—„ ð—’ð—ˆð—Žð—‹ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—‚ð—Œ ð—ð—ˆð—‹ð—„ð—‚ð—‡ð—€, ð—‚ð–¿ ð—ð—ð—‚ð—Œ ð–ºð—‰ð—‚ð—„ð–¾ð—’ ð—‚ð—Œ ð—‡ð—ˆð— ð—ð–ºð—…ð—‚ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡ ð—ƒð—ˆð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–¢ð—ˆð—†ð—†ð—Žð—‡ð—‚ð—ð—’ ð–¿ð—ˆð—‹ ð—‡ð–¾ð— ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð–»ð–¾ð–¼ð–ºð—Žð—Œð–¾ ð—ð—‚ð—ð—ð—ˆð—Žð—‹ ð–ºð—Žð—ð—ð—ˆð—‹ð—‚ð—Œð–¾ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡'ð— ð–ºð–¼ð–¼ð–¾ð—Œ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–²ð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ. ð–³ð—ð–ºð—‡ð—„ ð–¸ð—ˆð—Ž\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
        }
      } else if (args[0] === "edit") {
				try {
					const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);
					const newItemDetails = JSON.parse(args.slice(2).join(" "));

					const response = await axios.put(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`, newItemDetails);

					message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ð–¨ð—ð–¾ð—† ð–¾ð–½ð—‚ð—ð–¾ð–½ ð—Œð—Žð–¼ð–¼ð–¾ð—Œð—Œð–¿ð—Žð—…ð—…ð—’\nðŸ‘‘ ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²: ${response.data.itemName}\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${response.data.itemID}`);
				} catch (err) {
					console.error(err);
					api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Ž ð–ºð—‹ð–¾ ð–»ð–ºð—‡ð—‡ð–¾ð–½ ð–¿ð—‹ð—ˆð—† ð—Žð—Œð—‚ð—‡ð—€ ð—ð—ð—‚ð—Œ ð–¼ð—ˆð—†ð—†ð–ºð—‡ð–½.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
				}
			} else if (args[0] === "delete") {
				try {
					const itemID = isNaN(args[1]) ? args[1] : parseInt(args[1]);

					const response = await axios.delete(`${serverURL}/api/items/${itemID}?apikey=${APIKEY}`);

					if (response.status === 204) {
						message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nâœ… ð–¨ð—ð–¾ð—† ð–½ð–¾ð—…ð–¾ð—ð–¾ð–½ ð—Œð—Žð–¼ð–¼ð–¾ð—Œð—Œð–¿ð—Žð—…ð—…ð—’ ð–¿ð—‹ð—ˆð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${itemID}`);
					} else {
						message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Ž ð–ºð—‹ð–¾ ð–»ð–ºð—‡ð—‡ð–¾ð–½ ð–¿ð—‹ð—ˆð—† ð—Žð—Œð—‚ð—‡ð—€ ð—ð—ð—‚ð—Œ ð–¼ð—ˆð—†ð—†ð–ºð—‡ð–½.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`);
					}
				} catch (err) {
					console.error(err);
					api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Ž ð–ºð—‹ð–¾ ð–»ð–ºð—‡ð—‡ð–¾ð–½ ð–¿ð—‹ð—ˆð—† ð—Žð—Œð—‚ð—‡ð—€ ð—ð—ð—‚ð—Œ ð–¼ð—ˆð—†ð—†ð–ºð—‡ð–½.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
				}
			} else if (args[0] === "upload") {
				try {
					const itemDetails = JSON.parse(args.slice(1).join(" "));
					const response = await axios.post(`${serverURL}/api/items?apikey=${APIKEY}`, itemDetails);

					if (response.status === 201) {
						const uploadedItem = response.data;
						message.reply(`ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Žð—‹ ð——ð—®ð˜ð—® ð—Œð—Žð–¼ð–¼ð–¾ð—Œð—Œð–¿ð—Žð—…ð—…ð—’ ð—Žð—‰ð—…ð—ˆð–ºð–½ð–¾ð–½ ð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾.\n\nðŸ‘‘ ð—œð˜ð—²ð—º ð—¡ð—®ð—ºð—²: ${uploadedItem.itemName}\nðŸ†” ð—œð˜ð—²ð—º ð—œð——: ${uploadedItem.itemID}\nâš™ ð—œð˜ð—²ð—º ð—§ð˜†ð—½ð—²: ${uploadedItem.type || "Unknown"}\nðŸ“ ð——ð—²ð˜€ð—°ð—¿ð—¶ð—½ð˜ð—¶ð—¼ð—»: ${uploadedItem.description}\nðŸ“ ð—œð˜ð—²ð—º ð—Ÿð—¶ð—»ð—¸: ${uploadedItem.pastebinLink}\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.`);
					} else if (response.status === 401) {
						api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”\n\nð–³ð—ð–¾ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—’ð—ˆð—Ž ð–ºð—‹ð–¾ ð—ð—‹ð—’ð—‚ð—‡ð—€ ð—ð—ˆ ð–ºð–¼ð–¼ð–¾ð—Œð—Œ ð—ˆð—Žð—‹ ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ð—‚ð—Œ ð—‡ð—ˆð— ð–ºð–¼ð—ð—‚ð—ð–ºð—ð–¾ð–½ ð—‚ð—‹ ð—‚ð—‡ð—ð–ºð—…ð—‚ð–½ ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð—‰ð—…ð–¾ð–ºð—Œð–¾ ð–¼ð—ð–¾ð–¼ð—„ ð—’ð—ˆð—Žð—‹ ð—”ð—£ð—œ ð—žð—˜ð—¬ ð—‚ð—Œ ð—ð—ˆð—‹ð—„ð—‚ð—‡ð—€, ð—‚ð–¿ ð—ð—ð—‚ð—Œ ð–ºð—‰ð—‚ð—„ð–¾ð—’ ð—‚ð—Œ ð—‡ð—ˆð— ð—ð–ºð—…ð—‚ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡ ð—ƒð—ˆð—‚ð—‡ ð—ˆð—Žð—‹ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–¢ð—ˆð—†ð—†ð—Žð—‡ð—‚ð—ð—’ ð–¿ð—ˆð—‹ ð—‡ð–¾ð— ð–ºð—‰ð—‚ð—„ð–¾ð—’, ð–»ð–¾ð–¼ð–ºð—Žð—Œð–¾ ð—ð—‚ð—ð—ð—ˆð—Žð—‹ ð–ºð—Žð—ð—ð—ˆð—‹ð—‚ð—Œð–¾ð–½ ð—’ð—ˆð—Ž ð–¼ð–ºð—‡'ð— ð–ºð–¼ð–¼ð–¾ð—Œ ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜ ð–²ð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ. ð–³ð—ð–ºð—‡ð—„ ð–¸ð—ˆð—Ž\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
					}
				} catch (err) {
					console.error(err);
					api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Ž ð–ºð—‹ð–¾ ð–»ð–ºð—‡ð—‡ð–¾ð–½ ð–¿ð—‹ð—ˆð—† ð—Žð—Œð—‚ð—‡ð—€ ð—ð—ð—‚ð—Œ ð–¼ð—ˆð—†ð—†ð–ºð—‡ð–½.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
				}
			}
		} catch (err) {
      console.error(err);
      api.sendMessage("ðŸ“š ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nâ”â”â”â”â”â”â”â”â”â”â”â”\n\nð–¸ð—ˆð—Ž ð–ºð—‹ð–¾ ð–»ð–ºð—‡ð—‡ð–¾ð–½ ð–¿ð—‹ð—ˆð—† ð—Žð—Œð—‚ð—‡ð—€ ð—ð—ð—‚ð—Œ ð–¼ð—ˆð—†ð—†ð–ºð—‡ð–½.\n\n- ð–³ð–¾ð–ºð—† ð—šð—¼ð—®ð˜ð— ð—®ð—¿ð˜\nð–³ð—ð–ºð—‡ð—„ ð—’ð—ˆð—Ž ð–¿ð—ˆð—‹ ð—Žð—Œð—‚ð—‡ð—€ ð—ˆð—Žð—‹ ð–¦ð—ˆð–ºð—ð–¬ð–ºð—‹ð— ð—Œð–¾ð—‹ð—ð—‚ð–¼ð–¾ð—Œ ðŸ¥°.", event.threadID, event.messageID);
    }
  },
};
